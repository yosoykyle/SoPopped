/**
 * =============================================================================
 * File: styles.css
 * Purpose: The "Wardrobe" (Visual Design).
 * =============================================================================
 *
 * NOTE:
 * This file controls how everything looks.
 * It is built on top of "Bootstrap", which gives us a solid foundation (Grid, Buttons).
 *
 * We then add our own "Custom Flavor":
 *   1. Glassmorphism: The "Frosted Glass" look on Modals and Navbars.
 *   2. Animations: Things move, slide, and bounce to feel alive.
 *   3. Interactions: Buttons and Cards react when you touch them.
 * =============================================================================
 */

/* ==========================================================================
   1. THE FOUNDATION
   ========================================================================== */
/* We import Bootstrap first so we can override it later. */
@import "./node_modules/bootstrap/dist/css/bootstrap.min.css";

/* ==========================================================================
   2. NAVIGATION (The Frosted Header)
   ========================================================================== */

/* 
 * NOTE: The "Frosted Glass" Effect
 * We use `backdrop-filter: blur` to make the implementation look like
 * etched glass floating over the background content.
 */
.navbar {
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px); /* For Safari */
  background-color: rgba(
    255,
    255,
    255,
    0.2
  ) !important; /* Semi-transparent white */
}

/* 
 * NOTE: Interactive Links
 * When you hover, the link shrinks slightly (scale 0.98) and glows.
 * This gives "Tactile Feedback" - it feels like you are pressing a real button.
 */
.nav-link {
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  transform: scale(1);
}

.nav-link:hover {
  transform: scale(0.98);
  color: var(--bs-primary) !important; /* Blue */
  text-decoration: underline;
  text-shadow: 0px 3px 3px #0000007c;
  font-weight: 550;
}

.nav-link:active {
  transform: scale(0.95); /* Shrink more on click */
  font-style: italic;
  font-family: pix; /* Fun font */
  color: var(--bs-warning) !important; /* Yellow */
  text-shadow: 0px 3px 3px #0000007c;
  text-decoration: underline;
}

/* 
 * NOTE: Dropdown Menus
 * We copy the same logic to the dropdowns so they feel consistent with the main navbar.
 */
.dropdown-item {
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  transform: scale(1);
  background: transparent;
}

.dropdown-item:hover {
  transform: scale(0.98);
  color: var(--bs-primary) !important;
  text-decoration: underline;
  text-shadow: 0px 3px 3px #0000007c;
  font-weight: 550;
  background: transparent;
}

.dropdown-item:active {
  transform: scale(0.95);
  font-style: italic;
  font-family: pix;
  color: var(--bs-warning) !important;
  text-decoration: underline;
  background: transparent;
}

/* Navbar Toggler (The Hamburger Menu) */
.navbar-toggler {
  transition: transform 0.15s ease-in-out;
}
.navbar-toggler:active {
  transform: scale(0.97); /* Press effect */
  font-style: italic;
}

/* Logo Styling */
.navbar-brand img {
  border-radius: 20%; /* Soft corners */
}
.navbar-brand:active {
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  transform: scale(0.87);
}

/* Specialized Animation for the "Home" Link */
#navHome {
  transition: all 0.3s ease;
  animation-name: slideUp;
  animation-direction: alternate-reverse;
  animation-duration: 2s;
  animation-play-state: running;
  animation-timing-function: cubic-bezier(0.18, 0.99, 0.88, 0.13);
}

/* Cart Icon */
.cart img {
  border-radius: 15%;
}

/* ==========================================================================
   3. BUTTONS (Tactile Feel)
   ========================================================================== */

/* Base Styles */
.btn {
  transition: all 0.3s ease; /* Smooth revert */
  transition-property:
    transform, box-shadow, font-weight, font-family, font-style, text-shadow;
}

/* 
 * NOTE: The "Press" Effect
 * When clicked (:active), the button shrinks and changes font to 'pix' (Italic/Fun).
 * This confirms to the user that "Yes, you clicked me".
 */
.btn:active {
  transform: scale(0.95);
  font-weight: bolder;
  font-family: pix;
  font-style: italic;
  text-shadow: 0px 3px 3px #0000007c;
  transition: all 0.1s ease; /* Fast response */
}

/* ==========================================================================
   4. CARDS (The Product Grid)
   ========================================================================== */

/* 
 * NOTE: Entrance State
 * Cards start hidden (opacity: 0) and pushed down (translateY).
 * Scroll animations will reveal them later.
 */
.card {
  transition: all 0.3s ease;
  border: 2px solid transparent; /* Invisible border ready for hover color */
  opacity: 0;
  transform: translateY(80px) scale(0.5);
}

/* 
 * NOTE: The "Lift" Effect
 * When hovering, the card floats up (-5px) and casts a shadow.
 * The border turns Yellow (Warning).
 */
.card:hover {
  transform: translateY(-5px) scale(1);
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
  border-color: var(--bs-warning);
}

/* Active (Click) State */
.card:active {
  font-style: italic;
  color: var(--bs-warning);
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.05); /* Shadow shrinks (card goes down) */
  border-color: var(--bs-primary);
}

/* 
 * NOTE: Product Images
 * Images inside cards scale down slightly on hover to focus attention on the content.
 */
.card img {
  transition: transform 0.3s ease;
}
.card:hover img {
  transform: scale(0.95);
}

/* Featured Gradients */
.card-img-overlay {
  background: linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.5) 0%,
    rgba(0, 0, 0, 0) 100%
  );
  transition: background 0.3s ease;
}
.card:hover .card-img-overlay {
  background: linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.7) 0%,
    rgba(0, 0, 0, 0.1) 100%
  );
}

/* Hero Image Animations */
.img-fluid {
  transition: all 0.3s ease;
  animation-name: slideDown;
  animation-direction: alternate-reverse;
  animation-duration: 2s;
  animation-play-state: running;
  animation-timing-function: cubic-bezier(0.18, 0.99, 0.88, 0.13);
}

.img-fluid:active {
  transform: scale(0.2);
  animation-name: roShrink; /* Fun spinning animation when clicked */
  animation-duration: 6s;
  animation-iteration-count: infinite;
}

/* 
 * NOTE: Scroll Animations
 * Uses modern CSS Scroll Timelines (Chrome/Edge) to make cards appear as you scroll.
 * We fallback to standard animations for other browsers.
 */
@keyframes cardAppear {
  0% {
    opacity: 0;
    transform: translateY(80px) scale(0.5);
    filter: blur(100px);
  }
  40% {
    opacity: 0.4;
    transform: translateY(40px) scale(0.7);
  }
  70% {
    opacity: 0.7;
    transform: translateY(20px) scale(0.95);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}

.card {
  view-timeline-name: --card-timeline;
  view-timeline-axis: block;
  animation: cardAppear cubic-bezier(0.4, 0, 0.2, 1) both;
  animation-timeline: --card-timeline;
  animation-range: entry 30% cover 30%;
  transform-origin: center bottom;
}

/* Staggering: Delays animation based on --card-index variable set by JS */
.col .card {
  animation-delay: calc(var(--card-index, 0) * 200ms + 100ms);
}

/* Fallback for iOS/Safari (triggered by JS adding .animate class) */
.card.animate {
  animation: cardAppear 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

/* ==========================================================================
   5. FORMS (Inputs & Validation)
   ========================================================================== */

/* Focus State: Glows Yellow (Warning Tone) */
.auth-form .form-control:focus,
#contactForm .form-control:focus {
  border-color: var(--bs-warning) !important;
  box-shadow: 0 0 0 0.2rem rgba(255, 193, 7, 0.15) !important;
}

/* Labels */
.form-label {
  color: var(--bs-emphasis-color) !important;
  font-weight: 500;
}
.form-label label {
  display: block;
  cursor: pointer;
}

/* Dialog Labels are White (because Dialog background is dark/blur) */
#loginDialog .form-label,
#signupDialog .form-label {
  margin-bottom: 0.25rem !important;
  font-weight: 550;
  color: white !important;
  font-size: 1rem;
  line-height: 1.2;
}

/* Error States: Red Border */
.auth-form .form-control.is-invalid,
#contactForm .form-control.is-invalid {
  border-color: var(--bs-danger) !important;
  box-shadow: none !important;
}
.invalid-feedback {
  color: var(--bs-danger) !important;
}

/* Contact Form container */
.contact-card {
  border: 1px solid rgba(0, 0, 0, 0.08);
  border-radius: 0.5rem;
  background: var(--bs-body-bg);
}

/* ==========================================================================
   6. ANIMATION KEYFRAMES (The Mechanics)
   ========================================================================== */

@keyframes slideDown {
  0% {
    transform: translateY(0);
    filter: blur(0);
  }
  50% {
    filter: blur(5px);
  }
  100% {
    transform: translateY(100%);
    filter: blur(0);
  }
}

@keyframes slideUp {
  0% {
    transform: translateY(0);
    filter: blur(0);
  }
  50% {
    filter: blur(5px);
  }
  100% {
    transform: translateY(-100%);
    filter: blur(0);
  }
}

@keyframes roShrink {
  0% {
    transform: scale(0.9) rotate(0deg);
  }
  20% {
    transform: scale(0.5) rotate(0deg);
  }
  40% {
    transform: scale(0.8) rotate(180deg);
  }
  60% {
    transform: scale(0.8) rotate(270deg);
  }
  80% {
    transform: scale(0.5) rotate(360deg);
  }
  100% {
    transform: scale(0.8) rotate(0deg);
  }
}

/* ==========================================================================
   7. EXTRAS & FONTS
   ========================================================================== */

/* Pagination Links (Match Navbar) */
.page-link {
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  transform: scale(1);
}
.page-link:hover {
  transform: scale(0.98);
  color: var(--bs-warning) !important;
  text-decoration: underline;
}
.page-link:active {
  transform: scale(0.95);
  font-style: italic;
  color: var(--bs-warning) !important;
  text-decoration: underline;
  background-color: transparent;
}
.page-item.disabled .page-link {
  transform: none;
  text-decoration: none;
}

/* Text Selection Color (Brand Identity) */
::selection {
  background-color: #dae139; /* Lime Yellow */
}

/* Custom Fonts */
@font-face {
  font-family: pix;
  src: url(./fonts/RubikPuddles-Regular.ttf);
}
@font-face {
  font-family: snymo;
  src: url(./fonts/SyneMono-Regular.ttf);
}

/* Typography Overrides */
h1.display-4 {
  font-family: pix;
  font-weight: bolder;
  font-size: 60px;
  font-style: italic;
  color: #0d6dfd; /* Primary Blue */
  text-shadow: 0px 3px 5px #00000014;
}

h2.display-4 {
  font-family: pix;
  font-weight: bolder;
  color: #0d6dfd;
  text-shadow: 0px 3px 5px #0000007c;
}

p {
  font-family: Arial, Helvetica, sans-serif;
  color: var(--bs-secondary);
}

/* ==========================================================================
   8. DIALOGS (Modals)
   ========================================================================== */

/* 
 * NOTE: jQuery UI Customization
 * Existing jQuery UI styles look dated (Gray boxes).
 * We override them to look like modern Glass Modals.
 */

/* The Dark Backdrop */
body .ui-widget-overlay {
  background-color: rgba(0, 0, 0, 0.2) !important;
  opacity: 1 !important;
}

/* The Popup Window (Glass Effect) */
.ui-dialog {
  box-shadow:
    12px 12px 80px #ffffff3b,
    -12px -12px 80px #ffffff50 !important;
  border-radius: 6px !important;
  border: 1px solid rgb(255, 255, 255) !important;
  background: rgba(255, 255, 255, 0.2) !important;
  backdrop-filter: blur(9px) !important;
  -webkit-backdrop-filter: blur(9px) !important;
}

.ui-dialog .ui-dialog-content {
  background: rgba(255, 255, 255, 0) !important;
}

/* Title Bar (Blue Header) */
.ui-dialog .ui-dialog-titlebar {
  background: #0d6dfd !important;
  color: #d7df23 !important; /* Brand Yellow Text */
  font-size: large;
  text-shadow: 0px 1px 3px #ffffff;
  border-bottom: 1px solid #ffffff !important;
  border-radius: 3px !important;
}

/* Close Action (X Button) */
.ui-dialog .ui-dialog-titlebar-close {
  background: rgb(255, 255, 255) !important;
  border: 1px solid #ffffff !important;
  border-radius: 20% !important;
  transition: all 0.2s ease !important;
}
.ui-dialog .ui-dialog-titlebar-close:hover {
  background: #ffca2c !important;
  transform: scale(1.1) !important;
}
/* Recolor the X symbol */
.ui-dialog .ui-dialog-titlebar-close .ui-button-text {
  color: #0d6dfd !important;
  font-weight: bold !important;
  font-size: 1.2rem !important;
}

/* 
 * NOTE: Product Modal Overrides
 * The product modal uses Bootstrap (not jQuery UI), so we style it separately 
 * to match the glass theme.
 */
#productModal .img-fluid,
#productModal img {
  animation: none !important;
  transition: none !important;
  transform: none !important;
  filter: none !important;
}

/* Glass Theme for Bootstrap Modals */
#productModal .modal-content,
#userModal .modal-content,
.glass-modal .modal-content {
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.2),
    rgba(255, 255, 255, 0.3)
  );
  border: 1px solid rgba(255, 255, 255, 0.955);
  box-shadow: 0 10px 40px rgba(255, 255, 255, 0.296);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  color: var(--bs-body-color);
  overflow: hidden;
  animation: modalGlassIn 120ms ease-out; /* Gentle Pop-up */
}

/* Invisible Headers (Let content float) */
#productModal .modal-header,
#userModal .modal-header,
.glass-modal .modal-header {
  background: transparent;
  border-bottom: none;
}

#productModal .modal-body,
#userModal .modal-body,
.glass-modal .modal-body {
  padding-top: 0.6rem;
  padding-bottom: 0.8rem;
}

@keyframes modalGlassIn {
  from {
    transform: translateY(8px) scale(0.995);
    opacity: 0;
  }
  to {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

/* Responsive Sizing */
@media (min-width: 992px) {
  .modal-lg-7col {
    max-width: 70% !important;
  }
}

/* Links inside Login Dialog (Sign Up) */
#loginDialog a {
  transition: all 0.3s ease !important;
  transform: scale(1) !important;
  color: var(--bs-primary) !important;
  text-decoration: none !important;
}

#loginDialog a:hover {
  transform: scale(0.98) !important;
  font-weight: 550;
  text-shadow:
    3px 3px 20px white,
    -3px -3px 20px white !important;
  color: var(--bs-primary) !important;
  text-decoration: underline !important;
}

#loginDialog a:active {
  transform: scale(0.95) !important;
  text-shadow:
    3px 3px 20px white,
    -3px -3px 20px white !important;
  font-style: italic !important;
  color: var(--bs-warning) !important;
  text-decoration: underline !important;
}
